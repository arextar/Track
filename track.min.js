(function(a){"use strict",track.methods.hash={detect:function(){return"hash"in a},init:function(){if("onhashchange"in window)window.addEventListener("hashchange",function(){track.go(a.hash.substring(1),!1)},!1),a.hash&&track.go(a.hash.substring(1));else{var b=a.hash;setInterval(function(){b!==a.hash&&track.go((b=a.hash).substring(1),!1)},20)}},set:function(b){a.hash=b}}})(location),function(a){function j(a){return a.replace(/^\/*|\/*$/g,"/").replace(/\/+/g,"/")}"use strict";var b,c,d={},e=[],f=0,g=[],h=[],i=a.track={init:function(){for(var a=0,d;d=arguments[a++];)if(d in c&&c[d].detect())return(b=c[i.method=d]).init(),d;return!1},clean:j,go:function(a,c){a=j(a),c!==!1&&b.set(a);if(a in d)d[a].call({},a);else for(var f=0,i;i=e[f++];)if(i.test(a))return h[--f].call(g[f](a),a)},on:function(a,b){if(!/:\w+|\{/.test(a=j(a)))d[a]=b;else{var c=[],i=0,k=0;a="^"+a.replace(/(?::(\w+)|\{([^\}]+)\})(\??)\/?/g,function(a,b,d,e){return c[i++]=b||k++,"(?:"+(b?"[^/]+":d)+")"+e+"/"+e})+"$",e[f]=new RegExp(a);var l=new RegExp(a.split("(?:").join("("));g[f]=function(a){a=l.exec(a);for(var b={},d=0;d<i;d++)b[c[d]]=a[d+1];return b},h[f++]=b}},methods:c={basic:{detect:function(){return!0},init:function(){},set:function(){}}}}}(typeof module=="undefined"?window:module.exports),function(a){track.methods.persist={detect:function(){return a.supported},init:function(){a.exists("track_url")&&track.go(a.get("track_url"))},set:function(b){a.set("track_url",b)}}}(function(a,b,c){!a&&"globalStorage"in window&&(a=globalStorage[c]);var d={},e,f,g,h,i=!0;if(b.documentElement.addBehavior){var j=b.documentElement;j.addBehavior("#default#userData"),j.load(c);var k=j.xmlDocument,l=k.documentElement;function m(a){for(var b=l.childNodes,c=0,d;d=b[c++];)if(b.getAttribute("key")===a)return b}e=function(a){var b=m(a);return b?b.getAttribute("value"):null},f=function(a,b){var d=m(a);d?d.setAttribute("value",b):(d=k.createNode(1,"item",""),d.setAttribute("key",a),d.setAttribute("value",b),l.appendChild(d)),j.save(c)},g=function(a){return!!m(a)},h=function(a){var b=m(a);b&&l.removeChild(b),j.save(c)}}else a?(e=function(b){return a.hasOwnProperty(b)?a[b]:null},f=function(b,c){a[b]=c},g=function(b){return a.hasOwnProperty(b)},h=function(b){delete a[b]}):(e=f=g=h=function(){},i=!1);return{get:function(a){return typeof d[a]!="undefined"?d[a]:e(a)},set:function(a,b){return f(a,d[a]=b),b},exists:function(a){return typeof d[a]!="undefined"||g(a)},del:function(a){delete d[a],h(a)},data:d,supported:i}}(window.localStorage,document,document.domain)),track.methods.history={detect:function(){return"pushState"in history},init:function(){window.addEventListener("popstate",function(a){a.state&&track.go(a.state,!1)},!1),history.state&&track.go(history.state,!1)},set:function(a){history.pushState(a,"",a)}}